
<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="OpenRefine Tutorial: Externe Datenspalten importieren">
    <meta name="author" content="@pushthings4ward">
    <meta property="og:url" content="http://www.pushthings4ward.com/tutorials" />
    <meta property="og:description" content="OpenRefine Tutorial: Externe Datenspalten importieren" />
    <meta property="og:locale" content="de_DE" />
    <meta property="article:published_time" content="2015-03-03T15:05:06+00:00" />
    <meta property="article:modified_time" content="2015-03-03T15:05:06+00:00" />
    <!--<link rel="icon" href="../../favicon.ico">-->

    <title>OpenRefine Tutorial: Externe Datenspalten importieren</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/navbar-fixed-top.css" rel="stylesheet">
    

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="js/ie-emulation-modes-warning.js"></script>
    
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">


    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="js/ie10-viewport-bug-workaround.js"></script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>
    <!-- Fixed navbar -->

    <!-- Fixed navbar -->
    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <!--<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button> -->
          <a class="navbar-brand" href="#"></a><p class="navbar-text"> <i class="fa fa-code fa-lg"></i> <b>OpenRefine Tutorial: Externe Datenspalten importieren</b></p>
        </div>
          
      </div>
    </div>
    <!-- /Fixed navbar -->

    <div class="container">

    <!-- Columns start at 50% wide on mobile and bump up to 33.3% wide on desktop -->
    <div class="row">
      <div class="col-xs-1 col-md-2"></div>
      <div class="col-xs-12 col-md-7">

    <p></p>

      <a href="https://twitter.com/pushthings4ward" class="twitter-follow-button" data-show-count="true" data-size="small">@pushthings4ward</a>
          <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');
          </script>
		<br>
		<span class="label label-info">Published: 1. September, 2012</span> <span class="label label-warning">CONTENT NUTZUNG: CC BY-NC-SA 3.0</span>

      	<p></p>
		 In Rahmen der Datenrecherche wird man nur selten alle notwendigen Information in einem Datensatz finden. Die Datenlage kann schnell unübersichtlich werden, wenn man die Kontrolle über seine Datensätze verliert. Um das Risiko zu reduzieren, empfiehlt es sich die benötigten Information in einem Datensatz zusammenzuführen.

      <br><br><b>Das Szenario</b>: Zu Beginn meiner Recherche liegt <code>Datensatz 1</code> vor. Dieser setzt sich aus vier Spalten <code>("Vorname", "Name", "Alter", "Geschlecht")</code> zusammen. Ergänzende Information <code>("Wohnort", "Beruf")</code> finde ich in <code>Datensatz 2</code>. Um bei der Analyse nicht ständig zwischen den zwei Datensätzen springen zu müssen, sollen die Information <code>("Wohnort", "Beruf")</code> aus dem zweiten Datensatz dem ersten hinzugefügt werden.<br>

      <img  class="img-responsive" src="../img/2012/09/google_refine_how_to_1.png" alt="OpenRefine" />

       <b>Wichtiger Hinweis</b>: Die erfolgreiche Datenfusion ist an eine wichtige Bedingung geknüpft. Beide Datensätze müssen über eine Datenspalte verfügen, die identisch ist. Sie bildet die Orientierungsgrundlage für die korrekte Zuordnung der einzelnen Datenzeilen. Für das gewählte Beispiel wäre das die Spalte <code>"Vorname"</code>. Anhand dieser Spalte wird OpenRefine die Datenfusion vornehmen. 

       <img  class="img-responsive" src="../img/2012/09/google_refine_how_to_2.png" alt="OpenRefine" />

    <b>Die einzelnen Schritte</b>: Ich öffne in OpenRefine den <code>Datensatz 1</code>, der in den folgenden Ausführungen als <code>D1</code> bezeichnet wird. Dort wähle ich zunächst aus dem <code>Dropdown Menü</code> der Spalte <code>“Vorname”</code> die Option <code>Edit column</code> aus und klicke anschließend auf die Option <code>Add column based on this column</code>.

    <img  class="img-responsive" src="../img/2012/09/google_refine_how_to_3.png" alt="OpenRefine" />

    Eine neue Eingabemaske öffnet sich. Aus dem <code>Datensatz 2</code> aka. <code>D2</code> soll die Datenspalte <code>“Beruf”</code> nach <code>D1</code> kopiert werden. Als erstes definiere ich den Spaltnamen <code>“Beruf“</code>. Dann nutze ich die GREL Syntax, um den Datenfusionsprozess zu definieren.

    <br><br><b>GREL syntax:</b>  <code>cell.cross(“D2“,”Vorname“).cells["Beruf“].value[0]</code><br><br>

    <img  class="img-responsive" src="../img/2012/09/google_refine_how_to_4.png" alt="OpenRefine" />
    <br>In der Voransicht lässt sich das Ergebnis der Datenfusion begutachten. Wenn das Ergebnis korrekt ist, genügt ein abschließender Klick auf <code>OK</code>, um die Transformation abzuschließen. Was genau habe ich mit der GREL Syntax gemacht? Ich öffne zuerst den Datensatz <code>D2</code>. Dann definiere ich die Orientierungsgrundlage für die Datenfusion – die Spalte <code>“Vorname“</code>. Abschließend lege ich die zu kopierende Spalte fest – <code>“Beruf“</code>.

    <img  class="img-responsive" src="../img/2012/09/google_refine_how_to_5.png" alt="OpenRefine" />

    In der Gegenüberstellung sieht man das Ergebnis der erfolgreichen Datenfusion. Die noch fehlende Datenspalte <code>“Wohnort”</code> würde man gemäß der Anleitung ergänzen.

    <img  class="img-responsive" src="../img/2012/09/google_refine_how_to_6.png" alt="OpenRefine" /> 
  <br>  


      </div>
      <div class="col-xs-1 col-md-3"></div>
    </div>

    


    </div> <!-- /container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    
    


    <!-- Piwik -->
<script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u=(("https:" == document.location.protocol) ? "https" : "http") + "://piwik.pushthings4ward.com/piwik/";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', 2]);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0]; g.type='text/javascript';
    g.defer=true; g.async=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<noscript><p><img src="http://piwik.pushthings4ward.com/piwik/piwik.php?idsite=2" style="border:0;" alt="" /></p></noscript>
<!-- End Piwik Code -->

<!-- Piwik Image Tracker-->
<img src="http://piwik.pushthings4ward.com/piwik/piwik.php?idsite=2&rec=1" style="border:0" alt="" />
<!-- End Piwik -->

  </body>
</html>
