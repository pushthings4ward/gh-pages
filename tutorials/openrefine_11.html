
<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="OpenRefine Tutorial: Rechnen">
    <meta name="author" content="@pushthings4ward">
    <meta property="og:url" content="http://www.pushthings4ward.com/tutorials" />
    <meta property="og:description" content="OpenRefine Tutorial: Rechnen" />
    <meta property="og:locale" content="de_DE" />
    <meta property="article:published_time" content="2015-03-03T15:05:06+00:00" />
    <meta property="article:modified_time" content="2015-03-03T15:05:06+00:00" />
    <!--<link rel="icon" href="../../favicon.ico">-->

    <title>OpenRefine Tutorial: Rechnen</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/navbar-fixed-top.css" rel="stylesheet">
    

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="js/ie-emulation-modes-warning.js"></script>
    
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">


    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="js/ie10-viewport-bug-workaround.js"></script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>
    <!-- Fixed navbar -->

    <!-- Fixed navbar -->
    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <!--<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button> -->
          <a class="navbar-brand" href="#"></a><p class="navbar-text"> <i class="fa fa-code fa-lg"></i> <b>OpenRefine Tutorial: Rechnen</b></p>
        </div>
          
      </div>
    </div>
    <!-- /Fixed navbar -->

    <div class="container">

    <!-- Columns start at 50% wide on mobile and bump up to 33.3% wide on desktop -->
    <div class="row">
      <div class="col-xs-1 col-md-2"></div>
      <div class="col-xs-12 col-md-7">

    <p></p>

      <a href="https://twitter.com/pushthings4ward" class="twitter-follow-button" data-show-count="true" data-size="small">@pushthings4ward</a>
          <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');
          </script>
		<br>
		<span class="label label-info">Published: 16. Juli, 2012</span> <span class="label label-warning">CONTENT NUTZUNG: CC BY-NC-SA 3.0</span>

      	<p></p>
		 
        Rechnen mit OpenRefine? Ja, auch das ist möglich. Vor dem Start sollte man aber einige Dinge berücksichtigen. Wenn man neue Daten in OpenRefine importiert, empfehle ich das Häckchen <code>Parse cell text into numbers, dates … </code>zu entfernen. Warum? Bei der Division und Multiplikation kann es zu unerwünschten Ergebnissen kommen, wenn OpenRefine den Zelleninhalt nicht richtig identifiziert. Um dies zu vermeiden, lasse ich das Häckchen weg.
<br><br>
<img class="img-responsive" src="../img/2012/07/rechnen-mit-google-refine-1.png" alt="OpenRefine" />
<br><br>
Für die Demo habe ich ein absolut unspektakulären Datensatz gewählt – drei Spalten mit sieben Datenzeilen.
<br><br>
<img class="img-responsive" src="../img/2012/07/rechnen-mit-google-refine-5.png" alt="OpenRefine" />
<br><br>
Als erstes muss ich OpenRefine sagen, dass es sich beim Inhalt der Zellen um numerische Werte handelt. Ich wähle aus dem Dropdown Menü der Spalte <code>“A”</code> die Option <code>Edit cells</code> anschließend das Submenü <code>Common transform</code> und schließlich die Funktion <code>To number</code> aus. Dieser Schritt muss für alle Spalten wiederholt werden, die numerische Werte enthalten.
<br><br>
<img class="img-responsive" src="../img/2012/07/rechnen-mit-google-refine-2.png" alt="OpenRefine" />
<br><br>
Wenn die Transformation für alle Spalten abgeschlossen ist, kann die Rechnerrei beginnen. Ich wähle aus dem Dropdown Menü der Spalte <code>“C”</code> die Option <code>Edit column</code> und anschließend die Funktion <code>Add column based on this column</code> aus. Ohne Bedenken hätte ich auch die Spalte <code>“A”</code> oder <code>“B”</code> auswählen können, um eine neue Spalte anzulegen.
<br><br>
<img class="img-responsive" src="../img/2012/07/rechnen-mit-google-refine-3.png" alt="OpenRefine" />
<br><br>
Ein neues Fenster öffnet sich. Hier definiere ich zunächst den Namen der neuen Spalte <code>“Ergebnis Division“</code>, in der das Ergebnis meiner Division abgelegt werden soll. Danach weise ich OpenRefine mit dem GREL Befehl<br><br><code>cells["A"].value / cells["C"].value</code> <br><br>die Zellen der Spalte <code>“A”</code> durch die entsprechenden Zellen der Spalte <code>“C”</code> zu dividieren. In der Voransicht lässt sich das Ergebnis überprüfen. Wenn das Ergebnis korrekt ist, genügt ein Klick auf <code>OK</code>, um die Transformation abzuschließen.
<br><br>
<img class="img-responsive" src="../img/2012/07/rechnen-mit-google-refine-4.png" alt="OpenRefine" />
<br><br>
Natürlich lassen sich auch andere Rechenaufgaben meistern.
<br><br>
<b>Addition:</b> <code>cells["A"].value + cells["C"].value</code>
<br><br>
<b>Subtraktion:</b> <code>cells["A"].value - cells["C"].value</code>
<br><br>
<b>Division:</b> <code>cells["A"].value / cells["C"].value</code>
<br><br>
<b>Multiplikation:</b> <code>cells["A"].value * cells["C"].value</code>
<br><br>
Durch die Hinzunahme der Klammer wird zunächst die Addition durchgeführt, bevor das vorläufige Ergebnis der spalte <code>“A+C”</code> mit der Spalte <code>“B”</code> multipliziert bzw. im Beispiel darunter dividiert wird.<br><br>
<code>(cells["A"].value + cells["C"].value) * cells["B"].value</code>
<br><br>
<code>(cells["A"].value - cells["C"].value) / cells["B"].value</code>

        <br>  


      </div>
      <div class="col-xs-1 col-md-3"></div>
    </div>

    


    </div> <!-- /container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    
    

  <!-- Piwik -->
<script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//www.newsworthyornot.com/analytics/";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', 1]);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<noscript><p><img src="//www.newsworthyornot.com/analytics/piwik.php?idsite=1" style="border:0;" alt="" /></p></noscript>
<!-- End Piwik Code -->

  </body>
</html>
